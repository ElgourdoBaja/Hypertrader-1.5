{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{TrendingUp,TrendingDown,DollarSign,Activity,Eye,EyeOff}from'lucide-react';import LoadingSpinner from'./LoadingSpinner';import MarketChart from'./MarketChart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[portfolio,setPortfolio]=useState(null);const[marketData,setMarketData]=useState({});const[loading,setLoading]=useState(true);const[showBalances,setShowBalances]=useState(true);const[selectedCoin,setSelectedCoin]=useState('BTC');const coins=['BTC','ETH','SOL','AVAX'];useEffect(()=>{fetchData();const interval=setInterval(fetchData,30000);// Update every 30 seconds\nreturn()=>clearInterval(interval);},[]);const fetchData=async()=>{try{setLoading(true);// Fetch portfolio data\nconst portfolioResponse=await axios.get('/api/portfolio');if(portfolioResponse.data.success){setPortfolio(portfolioResponse.data.data);}// Fetch market data for multiple coins\ntry{const marketDataPromises=coins.map(async coin=>{try{const res=await axios.get(\"/api/market/\".concat(coin));return{coin,data:res.data.success?res.data.data:null};}catch(error){console.warn(\"Failed to fetch market data for \".concat(coin,\":\"),error);return{coin,data:null};}});const marketResults=await Promise.all(marketDataPromises);const marketDataMap={};marketResults.forEach(result=>{if(result.data){marketDataMap[result.coin]=result.data;}});setMarketData(marketDataMap);}catch(error){console.warn('Error fetching market data:',error);// Don't fail the entire component if market data fails\n}}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};const formatCurrency=amount=>{return showBalances?\"$\".concat((amount===null||amount===void 0?void 0:amount.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2}))||'0.00'):'****';};const formatPercentage=value=>{const sign=value>=0?'+':'';return\"\".concat(sign).concat((value===null||value===void 0?void 0:value.toFixed(2))||'0.00',\"%\");};if(loading&&!portfolio){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6 flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(LoadingSpinner,{size:\"large\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-white\",children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowBalances(!showBalances),className:\"flex items-center space-x-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors\",children:[showBalances?/*#__PURE__*/_jsx(EyeOff,{size:20}):/*#__PURE__*/_jsx(Eye,{size:20}),/*#__PURE__*/_jsxs(\"span\",{children:[showBalances?'Hide':'Show',\" Balances\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 p-6 rounded-lg border border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Total Value\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-white\",children:formatCurrency(portfolio===null||portfolio===void 0?void 0:portfolio.account_value)})]}),/*#__PURE__*/_jsx(DollarSign,{className:\"w-8 h-8 text-blue-400\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 p-6 rounded-lg border border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Available Balance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-white\",children:formatCurrency(portfolio===null||portfolio===void 0?void 0:portfolio.available_balance)})]}),/*#__PURE__*/_jsx(Activity,{className:\"w-8 h-8 text-green-400\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 p-6 rounded-lg border border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Total PnL\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold \".concat((portfolio===null||portfolio===void 0?void 0:portfolio.total_pnl)>=0?'text-green-400':'text-red-400'),children:showBalances?\"\".concat((portfolio===null||portfolio===void 0?void 0:portfolio.total_pnl)>=0?'+':'').concat(formatCurrency(portfolio===null||portfolio===void 0?void 0:portfolio.total_pnl).replace('$','')):'****'})]}),(portfolio===null||portfolio===void 0?void 0:portfolio.total_pnl)>=0?/*#__PURE__*/_jsx(TrendingUp,{className:\"w-8 h-8 text-green-400\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"w-8 h-8 text-red-400\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-800 p-6 rounded-lg border border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Daily PnL\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold \".concat((portfolio===null||portfolio===void 0?void 0:portfolio.daily_pnl)>=0?'text-green-400':'text-red-400'),children:showBalances?\"\".concat((portfolio===null||portfolio===void 0?void 0:portfolio.daily_pnl)>=0?'+':'').concat(formatCurrency(portfolio===null||portfolio===void 0?void 0:portfolio.daily_pnl).replace('$','')):'****'})]}),(portfolio===null||portfolio===void 0?void 0:portfolio.daily_pnl)>=0?/*#__PURE__*/_jsx(TrendingUp,{className:\"w-8 h-8 text-green-400\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"w-8 h-8 text-red-400\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg border border-gray-700\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Market Overview\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedCoin,onChange:e=>setSelectedCoin(e.target.value),className:\"bg-gray-700 text-white px-3 py-1 rounded border border-gray-600 focus:outline-none focus:border-blue-400\",children:coins.map(coin=>/*#__PURE__*/_jsx(\"option\",{value:coin,children:coin},coin))})]}),/*#__PURE__*/_jsx(MarketChart,{coin:selectedCoin})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg border border-gray-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-4\",children:\"Market Prices\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:coins.map(coin=>{var _data$price;const data=marketData[coin];if(!data)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 bg-gray-700 rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-sm font-bold\",children:coin[0]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-white\",children:coin}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400\",children:data.coin})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-white\",children:[\"$\",(_data$price=data.price)===null||_data$price===void 0?void 0:_data$price.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(data.change_24h>=0?'text-green-400':'text-red-400'),children:formatPercentage(data.change_24h)})]})]},coin);})})]})]}),(portfolio===null||portfolio===void 0?void 0:portfolio.positions)&&portfolio.positions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-800 p-6 rounded-lg border border-gray-700\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white mb-4\",children:\"Current Positions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-700\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"pb-3 text-gray-400\",children:\"Asset\"}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-3 text-gray-400\",children:\"Side\"}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-3 text-gray-400\",children:\"Size\"}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-3 text-gray-400\",children:\"Entry Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-3 text-gray-400\",children:\"Current Price\"}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-3 text-gray-400\",children:\"PnL\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:portfolio.positions.map((position,index)=>{var _position$entry_price,_position$current_pri;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b border-gray-700/50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-3 text-white font-semibold\",children:position.coin}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-semibold \".concat(position.side==='buy'?'bg-green-900 text-green-300':'bg-red-900 text-red-300'),children:position.side.toUpperCase()})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 text-white\",children:position.size}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 text-white\",children:[\"$\",(_position$entry_price=position.entry_price)===null||_position$entry_price===void 0?void 0:_position$entry_price.toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 text-white\",children:[\"$\",(_position$current_pri=position.current_price)===null||_position$current_pri===void 0?void 0:_position$current_pri.toLocaleString()]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 font-semibold \".concat(position.unrealized_pnl>=0?'text-green-400':'text-red-400'),children:showBalances?\"\".concat(position.unrealized_pnl>=0?'+':'',\"$\").concat(Math.abs(position.unrealized_pnl).toLocaleString()):'****'})]},index);})})]})})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","TrendingUp","TrendingDown","DollarSign","Activity","Eye","EyeOff","LoadingSpinner","MarketChart","jsx","_jsx","jsxs","_jsxs","Dashboard","portfolio","setPortfolio","marketData","setMarketData","loading","setLoading","showBalances","setShowBalances","selectedCoin","setSelectedCoin","coins","fetchData","interval","setInterval","clearInterval","portfolioResponse","get","data","success","marketDataPromises","map","coin","res","concat","error","console","warn","marketResults","Promise","all","marketDataMap","forEach","result","formatCurrency","amount","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatPercentage","value","sign","toFixed","className","children","size","onClick","account_value","available_balance","total_pnl","replace","daily_pnl","onChange","e","target","_data$price","price","change_24h","positions","length","position","index","_position$entry_price","_position$current_pri","side","toUpperCase","entry_price","current_price","unrealized_pnl","Math","abs"],"sources":["/app/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { TrendingUp, TrendingDown, DollarSign, Activity, Eye, EyeOff } from 'lucide-react';\nimport LoadingSpinner from './LoadingSpinner';\nimport MarketChart from './MarketChart';\n\nconst Dashboard = () => {\n  const [portfolio, setPortfolio] = useState(null);\n  const [marketData, setMarketData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [showBalances, setShowBalances] = useState(true);\n  const [selectedCoin, setSelectedCoin] = useState('BTC');\n\n  const coins = ['BTC', 'ETH', 'SOL', 'AVAX'];\n\n  useEffect(() => {\n    fetchData();\n    const interval = setInterval(fetchData, 30000); // Update every 30 seconds\n    return () => clearInterval(interval);\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch portfolio data\n      const portfolioResponse = await axios.get('/api/portfolio');\n      if (portfolioResponse.data.success) {\n        setPortfolio(portfolioResponse.data.data);\n      }\n\n      // Fetch market data for multiple coins\n      try {\n        const marketDataPromises = coins.map(async coin => {\n          try {\n            const res = await axios.get(`/api/market/${coin}`);\n            return { coin, data: res.data.success ? res.data.data : null };\n          } catch (error) {\n            console.warn(`Failed to fetch market data for ${coin}:`, error);\n            return { coin, data: null };\n          }\n        });\n        \n        const marketResults = await Promise.all(marketDataPromises);\n        const marketDataMap = {};\n        marketResults.forEach(result => {\n          if (result.data) {\n            marketDataMap[result.coin] = result.data;\n          }\n        });\n        setMarketData(marketDataMap);\n      } catch (error) {\n        console.warn('Error fetching market data:', error);\n        // Don't fail the entire component if market data fails\n      }\n\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return showBalances \n      ? `$${amount?.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }) || '0.00'}`\n      : '****';\n  };\n\n  const formatPercentage = (value) => {\n    const sign = value >= 0 ? '+' : '';\n    return `${sign}${value?.toFixed(2) || '0.00'}%`;\n  };\n\n  if (loading && !portfolio) {\n    return (\n      <div className=\"p-6 flex items-center justify-center h-64\">\n        <LoadingSpinner size=\"large\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-3xl font-bold text-white\">Dashboard</h1>\n        <button\n          onClick={() => setShowBalances(!showBalances)}\n          className=\"flex items-center space-x-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors\"\n        >\n          {showBalances ? <EyeOff size={20} /> : <Eye size={20} />}\n          <span>{showBalances ? 'Hide' : 'Show'} Balances</span>\n        </button>\n      </div>\n\n      {/* Portfolio Overview Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-gray-800 p-6 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-400 text-sm\">Total Value</p>\n              <p className=\"text-2xl font-bold text-white\">\n                {formatCurrency(portfolio?.account_value)}\n              </p>\n            </div>\n            <DollarSign className=\"w-8 h-8 text-blue-400\" />\n          </div>\n        </div>\n\n        <div className=\"bg-gray-800 p-6 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-400 text-sm\">Available Balance</p>\n              <p className=\"text-2xl font-bold text-white\">\n                {formatCurrency(portfolio?.available_balance)}\n              </p>\n            </div>\n            <Activity className=\"w-8 h-8 text-green-400\" />\n          </div>\n        </div>\n\n        <div className=\"bg-gray-800 p-6 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-400 text-sm\">Total PnL</p>\n              <p className={`text-2xl font-bold ${\n                portfolio?.total_pnl >= 0 ? 'text-green-400' : 'text-red-400'\n              }`}>\n                {showBalances \n                  ? `${portfolio?.total_pnl >= 0 ? '+' : ''}${formatCurrency(portfolio?.total_pnl).replace('$', '')}` \n                  : '****'\n                }\n              </p>\n            </div>\n            {portfolio?.total_pnl >= 0 ? \n              <TrendingUp className=\"w-8 h-8 text-green-400\" /> : \n              <TrendingDown className=\"w-8 h-8 text-red-400\" />\n            }\n          </div>\n        </div>\n\n        <div className=\"bg-gray-800 p-6 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-gray-400 text-sm\">Daily PnL</p>\n              <p className={`text-2xl font-bold ${\n                portfolio?.daily_pnl >= 0 ? 'text-green-400' : 'text-red-400'\n              }`}>\n                {showBalances \n                  ? `${portfolio?.daily_pnl >= 0 ? '+' : ''}${formatCurrency(portfolio?.daily_pnl).replace('$', '')}` \n                  : '****'\n                }\n              </p>\n            </div>\n            {portfolio?.daily_pnl >= 0 ? \n              <TrendingUp className=\"w-8 h-8 text-green-400\" /> : \n              <TrendingDown className=\"w-8 h-8 text-red-400\" />\n            }\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Market Chart */}\n        <div className=\"bg-gray-800 p-6 rounded-lg border border-gray-700\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-xl font-bold text-white\">Market Overview</h2>\n            <select\n              value={selectedCoin}\n              onChange={(e) => setSelectedCoin(e.target.value)}\n              className=\"bg-gray-700 text-white px-3 py-1 rounded border border-gray-600 focus:outline-none focus:border-blue-400\"\n            >\n              {coins.map(coin => (\n                <option key={coin} value={coin}>{coin}</option>\n              ))}\n            </select>\n          </div>\n          <MarketChart coin={selectedCoin} />\n        </div>\n\n        {/* Market Data */}\n        <div className=\"bg-gray-800 p-6 rounded-lg border border-gray-700\">\n          <h2 className=\"text-xl font-bold text-white mb-4\">Market Prices</h2>\n          <div className=\"space-y-4\">\n            {coins.map(coin => {\n              const data = marketData[coin];\n              if (!data) return null;\n              \n              return (\n                <div key={coin} className=\"flex items-center justify-between p-3 bg-gray-700 rounded\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-sm font-bold\">\n                      {coin[0]}\n                    </div>\n                    <div>\n                      <p className=\"font-semibold text-white\">{coin}</p>\n                      <p className=\"text-sm text-gray-400\">{data.coin}</p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"font-semibold text-white\">\n                      ${data.price?.toLocaleString('en-US', { \n                        minimumFractionDigits: 2, \n                        maximumFractionDigits: 2 \n                      })}\n                    </p>\n                    <p className={`text-sm ${\n                      data.change_24h >= 0 ? 'text-green-400' : 'text-red-400'\n                    }`}>\n                      {formatPercentage(data.change_24h)}\n                    </p>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n\n      {/* Current Positions */}\n      {portfolio?.positions && portfolio.positions.length > 0 && (\n        <div className=\"bg-gray-800 p-6 rounded-lg border border-gray-700\">\n          <h2 className=\"text-xl font-bold text-white mb-4\">Current Positions</h2>\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full text-left\">\n              <thead>\n                <tr className=\"border-b border-gray-700\">\n                  <th className=\"pb-3 text-gray-400\">Asset</th>\n                  <th className=\"pb-3 text-gray-400\">Side</th>\n                  <th className=\"pb-3 text-gray-400\">Size</th>\n                  <th className=\"pb-3 text-gray-400\">Entry Price</th>\n                  <th className=\"pb-3 text-gray-400\">Current Price</th>\n                  <th className=\"pb-3 text-gray-400\">PnL</th>\n                </tr>\n              </thead>\n              <tbody>\n                {portfolio.positions.map((position, index) => (\n                  <tr key={index} className=\"border-b border-gray-700/50\">\n                    <td className=\"py-3 text-white font-semibold\">{position.coin}</td>\n                    <td className=\"py-3\">\n                      <span className={`px-2 py-1 rounded text-xs font-semibold ${\n                        position.side === 'buy' \n                          ? 'bg-green-900 text-green-300' \n                          : 'bg-red-900 text-red-300'\n                      }`}>\n                        {position.side.toUpperCase()}\n                      </span>\n                    </td>\n                    <td className=\"py-3 text-white\">{position.size}</td>\n                    <td className=\"py-3 text-white\">${position.entry_price?.toLocaleString()}</td>\n                    <td className=\"py-3 text-white\">${position.current_price?.toLocaleString()}</td>\n                    <td className={`py-3 font-semibold ${\n                      position.unrealized_pnl >= 0 ? 'text-green-400' : 'text-red-400'\n                    }`}>\n                      {showBalances \n                        ? `${position.unrealized_pnl >= 0 ? '+' : ''}$${Math.abs(position.unrealized_pnl).toLocaleString()}`\n                        : '****'\n                      }\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}